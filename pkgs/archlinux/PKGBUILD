pkgname=enkei
pkgver=0.9.1
pkgrel=1
pkgdesc="A modern wallpaper tool with Gnome dynamic wallpaper support"
url="https://git.spacesnek.rocks/johannes/enkei"

arch=('x86_64' 'aarch64')
license=('GPL3')

makedepends=('cargo')
depends=('mesa' 'glib2' 'cairo' 'libwebp' 'wayland')

source=("$pkgname-$pkgver.tar.gz::https://git.spacesnek.rocks/johannes/$pkgname/archive/v$pkgver.tar.gz")
sha256sums=('8b86d8b465be8bc2da370dbdd484aa8c956f1921794c213f7ccbad5814196366')

build() {
	cd "$pkgname"
	cargo build --release
}

package() {
	cd "$pkgname"
	install -Dm755 "target/release/$pkgname" "$pkgdir/usr/bin/$pkgname"
	install -Dm755 "target/release/${pkgname}ctl" "$pkgdir/usr/bin/${pkgname}ctl"
	install -Dm644 COPYING -t "${pkgdir}/usr/share/licenses/${pkgname}"
}
